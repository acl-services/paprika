import { Meta, Props, Story } from "@storybook/addon-docs/blocks";
import { Description } from "@storybook/addon-docs/blocks";
import { getStoryName } from "storybook/storyTree";
import Readme from "../README.md";
import CollapsibleCard from "../src";

export const params = {
  options: {
    isToolshown: true,
    showPanel: false,
  },
};

<Meta title={`${getStoryName("CollapsibleCard")}/Docs`} component={CollapsibleCard} parameters={params} />

<Description markdown={Readme} />

## Usage

### Basic

Basic collapsible card with text label only.

```jsx
<CollapsibleCard label="Collapsible label">Content</CollapsibleCard>
```

#### Result

<CollapsibleCard label="Collapsible label">Content</CollapsibleCard>

### With avatar and metadata

Collapsible card with avatar (can be text or icon) and metadata

```jsx
<CollapsibleCard label="Collapsible label">
  <CollapsibleCard.Avatar>Card header</CollapsibleCard.Avatar>
  <CollapsibleCard.Metadata>1000 records</CollapsibleCard.Metadata>
  Content
</CollapsibleCard>
```

#### Result

<CollapsibleCard label="Collapsible label">
  <CollapsibleCard.Avatar>Card header</CollapsibleCard.Avatar>
  <CollapsibleCard.Metadata>1000 records</CollapsibleCard.Metadata>
  Content
</CollapsibleCard>

### Use render label function

You can pass a function into the `label` prop to render custom collapsible label

```jsx
function renderLabel({ isCollapsed }) {
  return `With render label function - ${isCollapsed ? "Collapsed" : "Expand"}`;
}

<CollapsibleCard label={renderLabel}>Content</CollapsibleCard>;
```

#### Result

<CollapsibleCard label={({ isCollapsed }) => `With render label function - ${isCollapsed ? "Collapsed" : "Expand"}`}>
  <CollapsibleCard.Avatar>Card header</CollapsibleCard.Avatar>
  <CollapsibleCard.Metadata>1000 records</CollapsibleCard.Metadata>
  Content
</CollapsibleCard>
